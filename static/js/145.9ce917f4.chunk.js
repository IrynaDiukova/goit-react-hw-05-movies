"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[145],{368:function(e,t,r){var n=r(689),a=r(87),u=r(457),i=r(184);t.Z=function(e){var t=e.movies,r=(0,n.TH)();return(0,i.jsx)(u.x,{as:"ul",p:2,children:t.map((function(e){var t=e.id,n=e.title;return(0,i.jsx)(u.x,{as:"li",children:(0,i.jsx)(a.rU,{to:"/movies/".concat(t),state:{from:r},children:n})},t)}))})}},145:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var n=r(433),a=r(861),u=r(439),i=r(757),s=r.n(i),c=r(791),o=r(87),p=r(228),l=r(368),f=r(184),v=function(e){var t=e.query,r=e.onSubmit,n=(0,c.useState)(t),a=(0,u.Z)(n,2),i=a[0],s=a[1];(0,c.useEffect)((function(){""===t&&s(t)}),[t]);return(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(e.currentTarget.query.value)},children:[(0,f.jsx)("input",{type:"search",name:"query",value:i,onChange:function(e){return s(e.target.value)}}),(0,f.jsx)("button",{type:"submit",children:"Search"})]})},h=function(){var e,t=(0,c.useState)([]),r=(0,u.Z)(t,2),i=r[0],h=r[1],d=(0,c.useState)("idle"),m=(0,u.Z)(d,2),g=m[0],x=m[1],y=(0,o.lr)(),b=(0,u.Z)(y,2),w=b[0],Z=b[1],_=null!==(e=w.get("query"))&&void 0!==e?e:"";(0,c.useEffect)((function(){if(""===_)return h([]),void x("idle");function e(){return(e=(0,a.Z)(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.searchMovies(_);case 3:if(t=e.sent,r=t.results,h((0,n.Z)(r)),!(r.length>0)){e.next=9;break}return x("resolved"),e.abrupt("return");case 9:x("empty"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[_]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(v,{query:_,onSubmit:function(e){return Z(""!==e?{query:e}:{})}}),"empty"===g&&(0,f.jsx)("p",{children:"No matches for your query.."}),"resolved"===g&&(0,f.jsx)(l.Z,{movies:i})]})}},228:function(e,t,r){r.d(t,{Z:function(){return b}});var n=r(861),a=r(757),u=r.n(a),i=r(263),s="https://api.themoviedb.org/3/",c="https://image.tmdb.org/t/p/w500/",o="https://placehold.co/500x750?text=No+Image",p="68fa3d310c9d2cffbb85ba21d660e67a",l="en-US",f=!1;i.Z.defaults.baseURL=s;var v={params:{api_key:p,language:l,include_adult:f}};function h(){return h=(0,n.Z)(u().mark((function e(){var t,r,n,a,s,c=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:1,r="trending/movie/day?page=".concat(t),e.next=4,i.Z.get(r,v);case 4:return n=e.sent,a=n.data,s=a.results.map((function(e){return{id:e.id,title:e.title}})),a.results=s,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function d(){return(d=(0,n.Z)(u().mark((function e(t){var r,n,a,s,p,l,f,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="movie/".concat(t),e.next=3,i.Z.get(r,v);case 3:return n=e.sent,a=n.data,s=a.original_title,p=a.overview,l=a.vote_average,f=a.genres,h=a.poster_path,e.abrupt("return",{original_title:s,overview:p,vote_average:l.toFixed(1),genres:f,poster_path:h?c+h:o});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=(0,n.Z)(u().mark((function e(t){var r,n,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="movie/".concat(t,"/credits"),e.next=3,i.Z.get(r,v);case 3:return n=e.sent,a=n.data,s=a.cast.map((function(e){var t=e.character,r=e.original_name,n=e.profile_path;return{character:t,original_name:r,profile_path:n?c+n:o}})),a.cast=s,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=(0,n.Z)(u().mark((function e(t){var r,n,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="movie/".concat(t,"/reviews"),e.next=3,i.Z.get(r,v);case 3:return n=e.sent,a=n.data,s=a.results.map((function(e){return{id:e.id,author:e.author,content:e.content}})),a.results=s,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=(0,n.Z)(u().mark((function e(t){var r,n,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="search/movie?query=".concat(t),e.next=3,i.Z.get(r,v);case 3:return n=e.sent,a=n.data,s=a.results.map((function(e){return{id:e.id,title:e.title}})),a.results=s,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y={getTrendings:function(){return h.apply(this,arguments)},getMovieDetails:function(e){return d.apply(this,arguments)},getCredits:function(e){return m.apply(this,arguments)},getReviews:function(e){return g.apply(this,arguments)},searchMovies:function(e){return x.apply(this,arguments)}},b=y}}]);
//# sourceMappingURL=145.9ce917f4.chunk.js.map